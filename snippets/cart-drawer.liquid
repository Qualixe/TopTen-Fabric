<div class="cart-sidebar">
  <button type="button" class="cart-sidebar-close-window-btn"></button>

  <div class="cart-sidebar-box active">
    <div class="side-cart-top">
      <p class="side-cart-heading">YOUR CART</p>
      <div class="side-cart-heading-icon-wrap">
        <span class="icon">
          <i class="fa-solid fa-bag-shopping"></i>
        </span>
        <span class="side-cart-item-number cart-total-items">{{ cart.item_count }}</span>
      </div>

      <button type="button" title="close" class="side-cart-close-btn">
        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 15L15 3" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          </path>
          <path d="M15 15L3 3" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          </path>
        </svg>
      </button>
    </div>
    {% if cart.item_count == 0 %}
      <div
        class="side-cart-empty"
        style="display: block !important; visibility: visible !important; opacity: 1 !important;"
      >
        <div class="side-cart-empty-text">
          <h3>Your Cart Is Empty</h3>
        </div>

        <div class="side-cart-slider-wrapper">
          <a href="{{ routes.all_products_collection_url }}" class="btn primary-btn">Continue Shopping <span></span></a>
        </div>
      </div>
    {% else %}
      <div class="side-cart-product-content">
        {% comment %}
          <div class="side-cart-progress-bar-area">
            <p class="side-cart-progress-bar-text">
              Add another <strong>$500</strong> to take advantage of <strong>Free Delivery</strong>.
            </p>
            <input type="range" value="60" min="0" max="100" step="1" class="progress">
          </div>
        {% endcomment %}

        <div class="side-cart-product-item-wrapper">
          <div class="cart-product-items">
            {% for item in cart.items %}
              <div class="cart-product-item">
                <div class="cart-product-img">
                  {{ item.image | image_url: width: 1000, height: 1000 | image_tag: alt: 'product-image' }}
                </div>
                <div class="cart-product-content">
                  <p class="cart-product-title">
                    <a href="{{ item.url }}">{{ item.title }}</a>
                  </p>

                  <div class="cart-product-varient">
                    {% if item.options_with_values.size > 1 %}
                      {% for option in item.options_with_values %}
                        <p>
                          <span>{{ option.name }}</span> : <span>{{ option.value }}</span>
                        </p>
                      {% endfor %}
                    {% endif %}
                  </div>

                  <div class="cart-product-btm">
                    <p class="cart-product-price">
                      <strong class="cart-item-price" data-item-key="{{ item.key }}">
                        {{- item.final_line_price | money -}}
                      </strong>
                    </p>
                    <div class="dlt-btn-with-cart-quantity">
                      <button type="button" class="cart-delete-btn" data-item-key="{{ item.key }}">
                        <svg
                          width="20"
                          height="24"
                          viewBox="0 0 20 24"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                          	d="M8 0C7.478 0 6.94 0.185 6.562 0.563C6.184 0.941 6 1.478 6 2V3H0V5H1V21C1 22.645 2.355 24 4 24H16C17.645 24 19 22.645 19 21V5H20V3H14V2C14 1.478 13.815 0.94 13.437 0.562C13.06 0.186 12.523 0 12 0H8ZM8 2H12V3H8V2ZM3 5H17V21C17 21.555 16.555 22 16 22H4C3.445 22 3 21.555 3 21V5ZM5 8V19H7V8H5ZM9 8V19H11V8H9ZM13 8V19H15V8H13Z"
                          	fill="#AFAFAF" />
                        </svg>
                      </button>
                      <div class="cart-quantity-wrap">
                        <button type="button" class="cart-quantity-decrease disabled">
                          <svg
                            width="32"
                            height="32"
                            viewBox="0 0 32 32"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                            	d="M16.0002 3C8.83224 3 3.00024 8.832 3.00024 16C3.00024 23.168 8.83224 29 16.0002 29C23.1682 29 29.0002 23.168 29.0002 16C29.0002 8.832 23.1682 3 16.0002 3ZM16.0002 5C22.0872 5 27.0002 9.913 27.0002 16C27.0002 22.087 22.0872 27 16.0002 27C9.91324 27 5.00024 22.087 5.00024 16C5.00024 9.913 9.91324 5 16.0002 5ZM10.0002 15V17H22.0002V15H10.0002Z"
                            	fill="black" />
                          </svg>
                        </button>
                        <input
                          type="number"
                          class="cart-quantity-number"
                          placeholder="{{ item.quantity }}"
                          min="1"
                          max="{{ item.inventory_quantity }}"
                          data-item-key="{{ item.key }}"
                          value="{{ item.quantity }}"
                        >
                        <button type="button" class="cart-quantity-increase">
                          <svg
                            width="32"
                            height="32"
                            viewBox="0 0 32 32"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                            	d="M15.9998 3C8.83176 3 2.99976 8.832 2.99976 16C2.99976 23.168 8.83176 29 15.9998 29C23.1678 29 28.9998 23.168 28.9998 16C28.9998 8.832 23.1678 3 15.9998 3ZM15.9998 5C22.0868 5 26.9998 9.913 26.9998 16C26.9998 22.087 22.0868 27 15.9998 27C9.91276 27 4.99976 22.087 4.99976 16C4.99976 9.913 9.91276 5 15.9998 5ZM14.9998 10V15H9.99976V17H14.9998V22H16.9998V17H21.9998V15H16.9998V10H14.9998Z"
                            	fill="black" />
                          </svg>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>

          <!-- Loading State - After Products -->
          <div class="cart-sidebar-loading" style="display: none;">
            <div class="cart-loading-spinner">
              <div class="spinner"></div>
              <p>Updating cart...</p>
            </div>
          </div>
        </div>

        <div class="side-cart-product-content-footer">
          <div class="side-cart-product-price-wrap">
            <p>Subtotal</p>
            <p class="cart-subtotal">{{ cart.total_price | money }}</p>
          </div>
          <div class="side-cart-checkout-btn">
            <a href="{{ routes.cart_url }}" class="btn secondary-btn">View Cart<span></span></a>
            <a href="/checkout" class="btn primary-btn">checkout <span></span></a>
          </div>
          <p class="side-cart-checkout-text">Shipping, taxes, and discount codes calculated at checkout.</p>
        </div>
      </div>
    {% endif %}
  </div>
</div>
