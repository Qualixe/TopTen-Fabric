{% assign s = section.settings %}

<section class="section blog-section color-{{ s.color_scheme }}">
  <div class="container">

    <div class="section-heading-wrapper">
      <h2 class="section-heading">{{ s.heading }}</h2>
      <p class="section-heading-text">
        {{ s.sub_heading }}
      </p>
    </div>

    {% if s.blog != blank %}
      {% paginate s.blog.articles by 6 %}

        <div class="blog-items">
          {% for article in s.blog.articles %}
            <div class="blog-item">
              <div class="blog-img">
                <a href="{{ article.url }}">
                  {% if article.image %}
                    {{ article.image | image_url: width: 800 | image_tag: alt: article.title }}
                  {% endif %}
                </a>
              </div>

              <div class="blog-content">
                <a href="{{ article.url }}" class="blog-content-title">
                  {{ article.title | truncate: 50 }}
                </a>
                <p class="blog-content-text">
                  {{ article.excerpt | strip_html | truncate: 50 }}
                </p>
              </div>
            </div>
          {% endfor %}
        </div>

        {% if paginate.pages > 1 %}
          <div class="pagination">

            {% if paginate.previous %}
              <a href="{{ paginate.previous.url }}">
                <svg aria-hidden="true" focusable="false" class="icon icon-caret" viewBox="0 0 10 6">
                  <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M9.354.646a.5.5 0 00-.708 0L5 4.293 1.354.646a.5.5 0 00-.708.708l4 4a.5.5 0 00.708 0l4-4a.5.5 0 000-.708z"
                    fill="currentColor">
                  </path>
                </svg>
              </a>
            {% endif %}

            {% for part in paginate.parts %}
              {% if part.is_link %}
                <a href="{{ part.url }}">{{ part.title }}</a>
              {% else %}
                <a class="active">{{ part.title }}</a>
              {% endif %}
            {% endfor %}

            {% if paginate.next %}
              <a href="{{ paginate.next.url }}">
                <svg aria-hidden="true" focusable="false" class="icon icon-caret" viewBox="0 0 10 6">
                  <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M9.354.646a.5.5 0 00-.708 0L5 4.293 1.354.646a.5.5 0 00-.708.708l4 4a.5.5 0 00.708 0l4-4a.5.5 0 000-.708z"
                    fill="currentColor">
                  </path>
                </svg>
              </a>
            {% endif %}

          </div>
        {% endif %}

      {% endpaginate %}
    {% endif %}

    {% if s.enable_view_all and s.blog != blank %}
      <div class="section-btn">
        <a href="{{ s.blog.url }}" class="btn primary-btn">
          {{ s.btn_text }}
        </a>
      </div>
    {% endif %}

  </div>
</section>

{% schema %}
{
  "name": "Blog Section",
  "settings": [
    {
      "type": "header",
      "content": "Customize Blog Section"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "From the Journal"
    },
    {
      "type": "text",
      "id": "sub_heading",
      "label": "Section SubHeading",
      "default": "Discover Stories, Ideas, and Insights That Inspire Curiosity and Creativity"
    },
    {
      "type": "blog",
      "id": "blog",
      "label": "Select Blog"
    },
    {
      "type": "text",
      "id": "btn_text",
      "label": "Button Text",
      "default": "View More"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color Scheme",
      "default": "scheme-1"
    }
  ],
  "presets": [
    {
      "name": "Blogs-page"
    }
  ]
}
{% endschema %}
